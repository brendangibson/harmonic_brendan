(this.webpackJsonpharmonic_brendan=this.webpackJsonpharmonic_brendan||[]).push([[0],{74:function(e,n,t){},84:function(e,n,t){"use strict";t.r(n);var r,i,o=t(0),a=t.n(o),c=t(20),l=t.n(c),s=(t(74),t(64)),u=t(15),d=t(114),O=t(99),j=t(98),b=t(113),h=t(109),f=t(100),p={addNew:"+ Add New Filter",and:"AND",companyName:"Company Name",contains:"Contains",delete:"Delete",description:"Description",descriptionHeader:"Description",doesNotContain:"Does not contain",error:"An error has occurred",highlights:"Highlights",highlightsHeader:"Highlights",isEmpty:"Is Empty",isExactly:"Is exactly",isNotEmpty:"Is not empty",nameHeader:"Name",noResults:"No Results",or:"OR",saveAsNewSearch:"Save as new search",saveNotificationTitle:"Notification",saveNotificationMsg:"Your query has been saved",search:"Search",searchTitle:"Show me all the companies...",searchTitleTip:"Click to expand",where:"where"},v=function(e){return p[e]},N=t(27),x=t(1),S=t(12);!function(e){e.MAKES_LOTTA_MONEY="MAKES_LOTTA_MONEY",e.IS_HARMONIC="IS_HARMNOIC"}(r||(r={}));var C,T,g,m,I=(i={},Object(S.a)(i,r.IS_HARMONIC,"#81FCED"),Object(S.a)(i,r.MAKES_LOTTA_MONEY,"#FFCA58"),i),A=function(e){var n;return null!==(n=I[e])&&void 0!==n?n:"#6FFFB0"},w=t(3),E=x.default.div(C||(C=Object(N.a)(["\n  border-radius: 8px;\n  padding: 4px 8px;\n  background: ",";\n  display: inline-block;\n  margin-right: 4px;\n"])),(function(e){return e.color})),_=function(e){var n,t=e.highlight;return Object(w.jsx)(E,{color:A(t.category),children:Object(w.jsx)(h.a,{size:"small",children:null!==(n=t.text)&&void 0!==n?n:t.category})})},y=function(e){var n=e.company;return Object(w.jsxs)(j.a,{children:[Object(w.jsx)(b.a,{scope:"row",children:Object(w.jsx)(h.a,{weight:"bold",children:n.name})}),Object(w.jsx)(b.a,{scope:"row",children:Object(w.jsx)(h.a,{children:n.description})}),Object(w.jsx)(b.a,{children:n.highlights.map((function(e){return Object(w.jsx)(_,{highlight:e},e.category)}))})]})},M=function(e){var n=e.results;return Object(w.jsxs)(d.a,{children:[Object(w.jsx)(O.a,{children:Object(w.jsxs)(j.a,{children:[Object(w.jsx)(b.a,{scope:"col",border:"bottom",children:Object(w.jsx)(h.a,{children:v("nameHeader")})}),Object(w.jsx)(b.a,{scope:"col",border:"bottom",children:Object(w.jsx)(h.a,{children:v("descriptionHeader")})}),Object(w.jsx)(b.a,{scope:"col",border:"bottom",children:Object(w.jsx)(h.a,{children:v("highlightsHeader")})})]})}),Object(w.jsx)(f.a,{children:n.length?n.map((function(e){return Object(w.jsx)(y,{company:e},e.id)})):Object(w.jsx)(h.a,{children:v("noResults")})})]})},k=t(17),Y=t(102),D=t(119),H=t(103);!function(e){e[e.COMPANY=0]="COMPANY",e[e.DESCRIPTION=1]="DESCRIPTION",e[e.HIGHLIGHTS=2]="HIGHLIGHTS"}(T||(T={})),function(e){e[e.CONTAINS=0]="CONTAINS",e[e.DOES_NOT_CONTAIN=1]="DOES_NOT_CONTAIN",e[e.IS_EXACTLY=2]="IS_EXACTLY",e[e.IS_EMPTY=3]="IS_EMPTY",e[e.IS_NOT_EMPTY=4]="IS_NOT_EMPTY"}(g||(g={})),function(e){e[e.FIRST=0]="FIRST",e[e.AND=1]="AND",e[e.OR=2]="OR"}(m||(m={}));var P,L,R,F=T.COMPANY,G=g.CONTAINS,X=t(105),q=function(e){var n=e.onSaveClick,t=e.onSearchClick;return Object(w.jsxs)(s.a,{gap:"small",justify:"end",direction:"row",children:[Object(w.jsx)(X.a,{secondary:!0,label:v("saveAsNewSearch"),onClick:n}),Object(w.jsx)(X.a,{primary:!0,label:v("search"),onClick:t})]})},B=t(118),K=t(106),J=t(110),z=[g.CONTAINS,g.DOES_NOT_CONTAIN,g.IS_EMPTY,g.IS_EXACTLY,g.IS_NOT_EMPTY],Q=[g.IS_EMPTY,g.IS_NOT_EMPTY],U=[{field:T.COMPANY,operations:z,label:"companyName"},{field:T.DESCRIPTION,operations:z,label:"description"},{field:T.HIGHLIGHTS,operations:Q,label:"highlights"}],V=(P={},Object(S.a)(P,g.CONTAINS,{showOperand:!0,label:"contains"}),Object(S.a)(P,g.DOES_NOT_CONTAIN,{showOperand:!0,label:"doesNotContain"}),Object(S.a)(P,g.IS_EMPTY,{showOperand:!1,label:"isEmpty"}),Object(S.a)(P,g.IS_EXACTLY,{showOperand:!0,label:"isExactly"}),Object(S.a)(P,g.IS_NOT_EMPTY,{showOperand:!1,label:"isNotEmpty"}),P),W=(L={},Object(S.a)(L,T.COMPANY,"name"),Object(S.a)(L,T.DESCRIPTION,"description"),Object(S.a)(L,T.HIGHLIGHTS,"highlights"),L),Z=function(e){var n,t=e.clause,r=e.onDelete,i=e.onChange,o=U.map((function(e){return v(e.label)})),a=U[t.field],c=function(e){var n=U.find((function(n){return v(n.label)===e}));n&&i(Object.assign(t,{field:n.field}))},l=function(e){i(Object.assign(t,{operation:e}))},u=function(e){i(Object.assign(t,{operand:e}))},d=v(t.combination===m.FIRST?"where":t.combination===m.AND?"and":"or");return Object(w.jsxs)(s.a,{direction:"row",gap:"small",align:"center",children:[Object(w.jsx)(s.a,{align:"center",width:"xsmall",alignContent:"start",children:Object(w.jsx)(h.a,{children:d})}),Object(w.jsx)(s.a,{children:Object(w.jsx)(K.a,{options:o,value:v(a.label),onChange:function(e){var n=e.value;return c(n)}})}),Object(w.jsx)(s.a,{children:Object(w.jsx)(K.a,{options:a.operations,labelKey:function(e){return v(V[e].label)},value:V[t.operation],onChange:function(e){var n=e.value;return l(n)},valueLabel:Object(w.jsx)(s.a,{pad:"small",children:Object(w.jsx)(h.a,{children:v(V[t.operation].label)})})})}),V[t.operation].showOperand&&Object(w.jsx)(s.a,{children:Object(w.jsx)(J.a,{placeholder:"...",value:null!==(n=t.operand)&&void 0!==n?n:"",onChange:function(e){return u(e.target.value)}})}),t.combination!==m.FIRST&&Object(w.jsx)(s.a,{children:Object(w.jsx)(B.a,{label:"...",items:[{label:v("delete"),onClick:r}]})})]})},$=function(e){var n=e.query,t=e.onAddNewAnd,r=e.onAddNewOr,i=e.onDelete,o=e.onChange,a=function(e){o(n.map((function(n){return n.id!==e.id?n:e})))};return Object(w.jsxs)("div",{children:[n.map((function(e,n){return Object(w.jsx)(Z,{clause:e,onDelete:function(){return i(e.id)},onChange:a},n)})),Object(w.jsx)(B.a,{label:v("addNew"),items:[{label:v("and"),onClick:t},{label:v("or"),onClick:r}]})]})},ee=Object(x.default)(h.a)(R||(R=Object(N.a)(["\n  cursor: pointer;\n"]))),ne=function(e){var n=e.onClick;return Object(w.jsx)(ee,{onClick:n,children:v("searchTitle")})},te=t(107),re=function(e){var n=e.onSaveClick,t=e.onSearchClick,r=e.open,i=e.setOpen,a=Object(o.useState)([{id:Object(te.a)(),field:F,combination:m.FIRST,operation:G}]),c=Object(u.a)(a,2),l=c[0],s=c[1];return Object(w.jsxs)(Y.a,{width:"full",background:"light-1",children:[Object(w.jsx)(D.a,{pad:"medium",border:"bottom",children:Object(w.jsx)(ne,{onClick:function(){return i((function(e){return!e}))}})}),r&&Object(w.jsxs)(H.a,{animation:"slideDown",pad:"medium",background:"light-1",children:[Object(w.jsx)($,{query:l,onAddNewAnd:function(){s((function(e){return[].concat(Object(k.a)(e),[{id:Object(te.a)(),field:F,operation:G,combination:m.AND}])}))},onAddNewOr:function(){s((function(e){return[].concat(Object(k.a)(e),[{id:Object(te.a)(),field:F,operation:G,combination:m.OR}])}))},onDelete:function(e){s((function(n){return n.filter((function(n){return n.id!==e}))}))},onChange:function(e){s(e)}}),Object(w.jsx)(q,{onSaveClick:function(){return n(l)},onSearchClick:function(){return t(l)}})]})]})},ie=t(41),oe=t.n(ie),ae=t(63),ce=window.location.origin+window.location.pathname+"/mock.json",le=function(){return function(e){var n=Object(o.useState)("idle"),t=Object(u.a)(n,2),r=t[0],i=t[1],a=Object(o.useState)(),c=Object(u.a)(a,2),l=c[0],s=c[1];return Object(o.useEffect)((function(){var n=function(){var n=Object(ae.a)(oe.a.mark((function n(){var t,r;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i("loading"),n.prev=1,n.next=4,fetch(e);case 4:return t=n.sent,n.next=7,t.json();case 7:r=n.sent,s(r),i("complete"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.error(n.t0),i("error");case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),{status:r,results:l}}(ce)},se=t(120),ue=t(104),de=function(e,n){var t=new Set;return n.forEach((function(e){return t.add(e.id)})),[].concat(Object(k.a)(e.filter((function(e){return!t.has(e.id)}))),Object(k.a)(n))},Oe=function(e,n){var t=new Set;return n.forEach((function(e){return t.add(e.id)})),Object(k.a)(e.filter((function(e){return t.has(e.id)})))},je=function(e,n){for(var t,r=e.map((function(e){return function(e,n){var t=W[e.field];switch(e.operation){case g.CONTAINS:return null===n||void 0===n?void 0:n.filter((function(n){var r,i;return e.operand&&(null===(r=n[t])||void 0===r?void 0:r.toLowerCase().indexOf(null===(i=e.operand)||void 0===i?void 0:i.toLowerCase()))>-1}));case g.DOES_NOT_CONTAIN:return null===n||void 0===n?void 0:n.filter((function(n){var r,i;return e.operand&&-1===(null===(r=n[t])||void 0===r?void 0:r.toLowerCase().indexOf(null===(i=e.operand)||void 0===i?void 0:i.toLowerCase()))}));case g.IS_EXACTLY:return null===n||void 0===n?void 0:n.filter((function(n){var r,i;return(null===(r=n[t])||void 0===r?void 0:r.toLowerCase())===(null===(i=e.operand)||void 0===i?void 0:i.toLowerCase())}));case g.IS_EMPTY:return null===n||void 0===n?void 0:n.filter((function(e){return!e[t]}));case g.IS_NOT_EMPTY:return null===n||void 0===n?void 0:n.filter((function(e){return Boolean(e[t])}))}}(e,n)})),i=null!==(t=r[0])&&void 0!==t?t:[],o=1;o<r.length;o++){var a,c;if(e[o].combination===m.OR)i=de(i,null!==(a=r[o])&&void 0!==a?a:[]);else i=Oe(i,null!==(c=r[o])&&void 0!==c?c:[])}return i},be=function(){var e=le(),n=e.status,t=e.results,r=Object(o.useState)(t),i=Object(u.a)(r,2),a=i[0],c=i[1],l=Object(o.useState)(!1),s=Object(u.a)(l,2),d=s[0],O=s[1],j=Object(o.useState)(!1),b=Object(u.a)(j,2),f=b[0],p=b[1],N=function(e){return console.log("Saved query:",JSON.stringify(e)),!0},x=function(e,n){return je(e,n)};Object(o.useEffect)((function(){c(t)}),[t]);return"error"===n?Object(w.jsx)(h.a,{color:"status-error",children:v("error")}):"loading"===n?Object(w.jsx)(se.a,{}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(re,{onSaveClick:function(e){N(e),p(!1),O(!0)},onSearchClick:function(e){p(!1);var n=x(e,t);c(n)},open:f,setOpen:p}),a&&Object(w.jsx)(M,{results:a}),d&&Object(w.jsx)(ue.a,{toast:!0,title:v("saveNotificationTitle"),message:v("saveNotificationMsg"),onClose:function(){return O(!1)}})]})},he=function(){return Object(w.jsx)(s.a,{pad:"medium",children:Object(w.jsx)(be,{})})};var fe=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(he,{})})},pe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,121)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),r(e),i(e),o(e),a(e)}))};l.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(fe,{})}),document.getElementById("root")),pe()}},[[84,1,2]]]);
//# sourceMappingURL=main.deea3d44.chunk.js.map